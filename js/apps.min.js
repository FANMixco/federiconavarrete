const cardTemplate=`<div class="card border-0 transform-on-hover">
   <img src="img/apps/{0}" alt="{1}" class="card-img-top">
   <div class="card-body">
      <h6><a href="#">{2}</a></h6>
      <p class="card-text">{3}<a tabindex="0" data-trigger="focus" data-html="true" data-placement="top" data-toggle="popover" data-container="body" title="{4}" data-content="{5}" role="button" class="popMore btn btn-warning btn-circle text-white"><i class="fas fa-ellipsis-h"></i></a></p>
   </div>
</div>`;$(function(){(function(){let a=[],b=[],c=[],d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];for(let b in new URLSearchParams(window.location.search).get("isIframe")||($("#header").show(),$(".gallery-block").css("padding-top","60px")),apps)filterElem(apps[b],"android",!0,a),filterElem(apps[b],"windows10",!0,c),filterElem(apps[b],"android",!1,g),filterElem(apps[b],"windows10",!1,h),filterElem(apps[b],"windowsPhone",!1,j),filterElem(apps[b],"windows8",!1,k),filterElem(apps[b],"web",!0,e),filterElem(apps[b],"web",!1,l),filterElem(apps[b],"windowsXP",!1,i);setApps(a,"playStore",b,n),setApps(c,"msStore",d,n),setApps(e,"webStore",f,n),setApps(g,"unsupportedAndroid",m,n),setApps(k,"unsupportedWindows8",m,n),setApps(h,"unsupportedWindows10",m,n),setApps(j,"unsupportedWindowsPhone",m,n),setApps(l,"unsupportedWeb",m,n),setApps(i,"unsupportedVB",m,n),setTechUsed(b,"techsPlayStore",n),setTechUsed(d,"techsMSStore",n),setTechUsed(f,"techsWebStore",n),setTechUsed(m,"techsOldStore",n),$("[data-toggle=\"popover\"]").popover(),$(".popover-dismiss").popover({trigger:"focus"})})()});function setTechUsed(a,b,c){const d={};for(let e=0;e<a.length;e++)d[a[e]]=(d[a[e]]||0)+1;var e=[];for(var f in d)e.push([f,d[f]]);e.sort(function(c,a){return a[1]-c[1]});let g="";for(let d in e)g+=e[d][0].includes("id_")?getTechPrint(c.filter(a=>a.id==e[d][0]),`&nbsp;×${e[d][1]}&nbsp;&nbsp;&nbsp;`):getTechPrint(e[d][0],`×${e[d][1]}&nbsp;&nbsp;&nbsp;`);$(`#${b}`).append(g)}function getTechPrint(a,b){if(!Array.isArray(a))return`<span class='oneLineIcon'><i class="${a} storeIcon"></i>${b}</span>`;switch(a[0].type){case"text":return`<span class='oneLineIcon'><span class='storeIcon'>${a[0].text}</span>${b}</span>`;case"mix-left-icon":return`<span class='oneLineIcon'><i class="${a[0].icon} storeIcon"></i>${a[0].text}</span>${b}`;case"mix-right-icon":return`<span class='oneLineIcon'>${a[0].text}<i class="${a[0].icon} storeIcon"></i></span>${b}`;case"mix-left-img":return`<span class='oneLineIcon'><img class='icons' src='img/icons/${a[0].icon}' alt='icon' />${a[0].text}</span>${b}`;case"mix-right-img":return`<span class='oneLineIcon'>${a[0].text}<img class='icons' src='img/icons/${a[0].icon}' alt='icon' /></span>${b}`;case"img":return`<img class='icons' src='img/icons/${a[0].icon}' alt='icon' />${b}`;}}function setApps(a,b,c,d){for(let e in a){let f="";""!==a[e].storeLink&&(f+=`<a href="${a[e].storeLink}" class="btn btn-info btn-circle text-white" target="_blank"><i class="fas fa-download"></i></a>`),""!==a[e].link&&(f+=`<a href="${a[e].link}" class="btn btn-success btn-circle text-white" target="_blank"><i class="fas fa-globe"></i></a>`),""!==a[e].preview&&(f+=`<a href="${a[e].preview}" class="btn btn-danger btn-circle text-white" target="_blank"><i class="fas fa-images"></i></a>`);let g=a[e].yearStart;a[e].yearStart!==a[e].yearEnd&&(g+=a[e].yearEnd===void 0?" -":` - ${a[e].yearEnd}`);let h=`${g}<br><br>${a[e].description}`,i="";for(let b in a[e].technologies)Array.isArray(a[e].technologies[b])?(i+=getTechPrint(a[e].technologies[b],"&nbsp;"),addTech(c,a[e].technologies[b][0].id),void 0!==d&&null==_.findWhere(d,a[e].technologies[b][0])&&d.push(a[e].technologies[b][0])):(i+=getTechPrint(a[e].technologies[b],"&nbsp;"),addTech(c,a[e].technologies[b]));h+=`<br><br><b>Technologies:<b><br><br><div class='iconsDiv'>${i.replaceAll("\"","'")}</div>`,$(`#${b}`).append(cardTemplate.format(a[e].logo,a[e].app,a[e].app,f,a[e].app,h))}}function addTech(a,b){a!==void 0&&(Array.isArray(a)?a.push(b):a.push(b.replaceAll(" ","_").replaceAll("-","__")))}function filterElem(a,b,c,d){let e=a.edition.filter(a=>a.mainTech==b&&a.isSupported===c)[0];e!==void 0&&d.push(createElem(a,e))}function createElem(a,b){return{app:a.app,link:a.link,description:a.description,logo:a.logo,preview:b.preview,storeLink:b.storeLink,technologies:b.technologies,yearStart:b.yearStart,yearEnd:b.yearEnd,technologies:b.technologies}}