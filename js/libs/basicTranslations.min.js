let tErr1,genericTranslations,basicInfo,totalGenerics,currentLoc="";function addExtraIcons(){gAll(".btn-preview").forEach((e=>{e.innerHTML=`${getFinalIcon("gallery",21)}&ensp;${e.innerHTML}`})),gAll(".btn-book").forEach((e=>{e.innerHTML=`${getFinalIcon("download")}&nbsp;&nbsp;${e.innerHTML}`}))}function retry(e,n,t,r){let a=t();a?r(null,a):e<=0?r(new Error("Max retries reached")):setTimeout((()=>{retry(e-1,n,t,r)}),n)}fetchData(`${jsonLoc}/generics.json`).then((e=>{genericTranslations=e,loadTranslationsWithRetry(loadTranslations,(e=>{e||fetchData(`${jsonLoc}/basicInfo.json`).then((e=>{basicInfo=e,loadTranslationsWithRetry(loadBasicInfo,(()=>{})),addExtraIcons()})).catch((e=>{console.error(e)}))}))})).catch((e=>{console.error(e)}));let loadTranslationsWithRetry=function(e,n){retry(3,150,e,n)};function loadGenerics(e){e.forEach((e=>{e.innerHTML=genericTranslations[e.dataset.translation]}))}function loadTranslations(){try{gAll("button.btn-close").forEach((e=>{e.setAttribute("aria-label",genericTranslations.close)})),gAll("[data-title-translation]").forEach((e=>{const n=genericTranslations[e.dataset.titleTranslation];e.setAttribute("aria-label",n),e.title=n}));const e=gAll("[data-translation]");return totalGenerics=e.length,loadGenerics(e),gAll(".btn-preview").forEach((e=>{e.addEventListener(eClick,(()=>{currentLoc=currentLoc!=e.dataset.action?e.dataset.action:currentLoc;const n=`${urlB}${currentLoc}.federiconavarrete.com`,t="apps"==currentLoc?genericTranslations.projectsGallery:genericTranslations.presentationsGallery,r=gId("btn-full-screen");gId("zoomTitle").innerHTML=t,loadIframe("divPreview",t,`${n}?isIframe=true`,'id="gPreview" allowfullscreen'),r.href=n,r.setAttribute("title",t),r.setAttribute("aria-label",t);let a="450px";if(smallScreen){a=`${(equalScreen?.6*document.documentElement.clientHeight:window.matchMedia("(orientation: portrait)").matches?.85*document.documentElement.clientHeight:.7*document.documentElement.clientHeight)+30}px`}else devicePortraitAndLong&&(a="675px");gId("gPreview").style.height=a}))})),!0}catch{return!1}}function loadBasicInfo(){try{const{name:n,headline:t,headlineIntro:r,aboutDesc:a,favBook:i,favPodcast:o,company:l}=basicInfo,s=gId("hName"),c=gId("hHeadline"),d=gId("hIntro"),g=gId("divAbout"),u=gId("favBook"),m=gId("favPodcast"),f=gId("listContacts");return gAll(".nav-link").forEach((e=>{e.addEventListener(eClick,(()=>{isMenuTriggered=!0,0===extraContact&&setTimeout(contactMeForm,5e3),extraContact++}))})),s.innerHTML=n,c.innerHTML=t,d.innerHTML=r,g.innerHTML="",a.forEach((e=>{g.innerHTML+=`<div class="col-sm"><p class="lead">${e}</p></div>`})),u.innerHTML=e(`${urlB}${i.link}`,"download",i.title),m.innerHTML=e(`${urlB}${o.link}`,"spotify",o.title),f.innerHTML=function(e,n,t,r=!1){return getInLi(getImage(e,n,t,r,!0,"btn-footer",!1,"iconFooter"))}(l.name,`${urlB}${l.link}`,"building-solid",!0)+f.innerHTML,gId("aElSalvador").addEventListener(eClick,(()=>{const e="iframeElSalvador",n="divIframElSalvador";gId(e)||(loadIframe(n,"SV Map",`${urlB}www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1984252.4374393197!2d-90.05167866086293!3d13.749114461377241!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f6327a659640657%3A0x6f9a16eb98854832!2sEl+Salvador!5e0!3m2!1sen!2spl!4v1555793789038!5m2!1sen!2spl`,dIframe("iframeElSalvador","previewerIframe")),iFrameHResize(e,n))}),!1),gAll("#linkContactMe, #linkContactMeAbout, #contactMeFloat").forEach((e=>{e.addEventListener(eClick,contactMeForm)})),gId("youTubePreview").addEventListener(eClick,(()=>{const e=gId("gTitle"),n=gId("btn-full-screen-preview");e.innerHTML=genericTranslations.winning,e.classList.remove(nVis),gId("gDivTitle").classList.remove("border-0"),gId("modal-preview").classList.add("modal-xl");const t="divIframeLinkPreviews";loadIframe(t,"Federico Navarrete",`${urlB}www.youtube.com/embed/IcWZ962uYy0`,dIframe("yIframeP","previewerIframe"),!0),iFrameHResize("yIframeP",t),n.href=`${urlB}bit.ly/3p9hMGJ`,n.setAttribute("title",genericTranslations.winning),n.setAttribute("aria-label",genericTranslations.winning)})),gAll(".iLang").forEach((e=>{e.src=`pages/${e.getAttribute("data-page")}.html?lang=${uLang}`})),!0}catch{return!1}function e(e,n,t){return getFLink("btn btn-xl btn-outline-light btn-home",e,`${getFinalIcon(`${n}`)}&nbsp;&nbsp;${t}`,'rel="noreferrer" target="_blank"')}}document.addEventListener("DOMContentLoaded",(()=>{const e=n();function n(e="bars-solid"){return getFinalIcon(e)}gId("menuExpander").addEventListener(eClick,(()=>{spanMenu.innerHTML=spanMenu.innerHTML===e?n("cross"):e}))}));