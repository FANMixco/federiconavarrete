let language=window.navigator.userLanguage||window.navigator.language,lang="en-us/min",extraContact=0;language.includes("es")&&(lang="es-sv/min");let langLoc="js/data/translations/";const iframeElSalvador='<iframe title=\'El Salvador Map\' id=\'iframeElSalvador\' src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1984252.4374393197!2d-90.05167866086293!3d13.749114461377241!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f6327a659640657%3A0x6f9a16eb98854832!2sEl+Salvador!5e0!3m2!1sen!2spl!4v1555793789038!5m2!1sen!2spl" class="previewerIframe" loading="lazy" allowfullscreen></iframe>',iconsPath="img/icons/website/",marginTop=0,heightIFrame=600;function loadTranslations(){let a=[{identifier:"#menuAbout",value:genericTranslations.about},{identifier:"#menuSkills",value:genericTranslations.skills},{identifier:"#menuProjects",value:genericTranslations.projects},{identifier:".menuPresentations",value:genericTranslations.presentations},{identifier:".menuArticles",value:genericTranslations.articles},{identifier:".hMassMedia",value:genericTranslations.massMedia},{identifier:"#menuBooks",value:genericTranslations.books},{identifier:"#hAboutMe",value:genericTranslations.aboutMe},{identifier:"#hDownloadFavApp",value:genericTranslations.downloadFavApp},{identifier:"#hDownloadFavBook",value:genericTranslations.getBook},{identifier:"#hPodcast",value:genericTranslations.hPodcast},{identifier:"#hHobbies",value:genericTranslations.hobbies},{identifier:"#spanAwards",value:genericTranslations.awards},{identifier:"#spanServices",value:genericTranslations.services},{identifier:"#spanTechSkills",value:genericTranslations.techSkills},{identifier:"#spanTechSkills",value:genericTranslations.techSkills},{identifier:"#spanSoftSkills",value:genericTranslations.softSkills},{identifier:"#spanTestimonials",value:genericTranslations.testimonials},{identifier:"#hPersonalProjects",value:genericTranslations.personalProjects},{identifier:"#aAppsPreview",value:genericTranslations.projectsGallery},{identifier:".spanProjectsGallery",value:genericTranslations.projectsGallery},{identifier:".spanPrevious",value:genericTranslations.previous},{identifier:".spanNext",value:genericTranslations.next},{identifier:".btnMore",value:genericTranslations.more},{identifier:"#hPPTTile",value:genericTranslations.pptsOrganizedEvents},{identifier:"#hPPTTile",value:genericTranslations.pptsOrganizedEvents},{identifier:"#spanPS",value:genericTranslations.publicSpeaking},{identifier:"#spanYouTube",value:genericTranslations.youTubeTraining},{identifier:".hPresentationsGallery",value:genericTranslations.presentationsGallery},{identifier:"#spanOE",value:genericTranslations.organizedEvents},{identifier:"#hRecommendedBooks",value:genericTranslations.recommendedBooks},{identifier:"#spanSalvadorean",value:genericTranslations.mySalvadorean},{identifier:"#hMoreWeb",value:genericTranslations.moreWeb},{identifier:"#hOtherHobbies",value:genericTranslations.otherHobbies},{identifier:"#contactMeFooter",value:genericTranslations.contactMe},{identifier:"#aroundWebFooter",value:genericTranslations.aroundWeb},{identifier:"#tmIntro",value:genericTranslations.tStoriesBody},{identifier:"#bookMsg1",value:genericTranslations.bookMsg1},{identifier:"#bookMsg2",value:genericTranslations.bookMsg2},{identifier:"#tmIntro",value:genericTranslations.tStoriesBody},{identifier:".getBtnCopy",value:genericTranslations.bookMsgGet},{identifier:".bookMsgGen",value:genericTranslations.bookMsgGen},{identifier:"#newsH4",value:genericTranslations.news}];if([...document.querySelectorAll("button.close")].forEach(function(a){a.setAttribute("aria-label",genericTranslations.close)}),a.forEach(a=>{setTranslation(a.identifier,a.value)}),WURFL.is_mobile&&"Smartphone"===WURFL.form_factor){let b=document.getElementById("spanMenu");b.innerHTML=`<img src="${iconsPath}bars-solid.svg" alt='menu' class="hMenu" style="margin-top:0px!important" loading="lazy" />`}else{let c=document.getElementById("spanMenu");c.innerHTML=`${genericTranslations.menu}<img src="${iconsPath}bars-solid.svg" alt='menu' class="hMenu ml-2" loading="lazy" />`,setTimeout(function(){let a=document.getElementById("divSkillsContainer");a.style.backgroundColor="rgba(12,12,12,0.95)",a.style.paddingTop="15px",a.style.borderRadius="20px"},100)}}function setTranslation(a,b){[...document.querySelectorAll(a)].forEach(function(a){a.innerHTML=b})}function loadBasicInfo(){let{name:e,headline:j,headlineIntro:k,aboutDesc:l,favBook:b,favPodcast:c,telephone:f,email:d,skype:g}=basicInfo,m=document.getElementById("linkName"),n=document.getElementById("hName"),o=document.getElementById("hHeadline"),p=document.getElementById("hIntro"),t=document.getElementById("divAbout"),h=document.getElementById("favBook"),i=document.getElementById("favPodcast");m.innerHTML=e,n.innerHTML=e,o.innerHTML=j,p.innerHTML=k,l.forEach(a=>{t.innerHTML+=`<div class="col-sm"><p class="lead">${a}</p></div>`}),b.isVisible?h.innerHTML+=`<a class="btn btn-xl btn-outline-light btn-home" rel="noreferrer" target="_blank" href="${b.link}"><img src="${iconsPath}download.svg" class="mr-2 btnIcons" alt='download' loading="lazy" />&nbsp;${b.title}</a>`:h.style.display="none",c.isVisible?i.innerHTML+=`<a class="btn btn-xl btn-outline-light btn-home" rel="noreferrer" target="_blank" href="${c.link}"><img src="${iconsPath}podcast-solid.svg" class="mr-2 btnIcons" style="height:24px;width:24px" alt='podcast' loading="lazy" />&nbsp;${c.title}</a>`:i.style.display="none";let a=document.getElementById("listContacts");g.isVisible&&(a.innerHTML=`<li class="list-inline-item">${getImage(genericTranslations.skype,`skype:${g.id}?call`,`${iconsPath}skype.svg`,!1,!1,"btn-footer",!1,"iconFooter")}</li>`+a.innerHTML),f.isVisible&&(a.innerHTML=`<li class="list-inline-item">${getImage(genericTranslations.telephone,`tel:${f.number}`,`${iconsPath}phone.svg`,!1,!1,"btn-footer",!1,"iconFooter")}</li>`+a.innerHTML),d.isVisible&&(a.innerHTML=`<li class="list-inline-item">${getImage(genericTranslations.email,`mailto:${d.address}?subject=${d.subject}`,`${iconsPath}at.svg`,!1,!1,"btn-footer",!1,"iconFooter")}</li>`+a.innerHTML);try{$('[data-toggle="tooltip"]').tooltip()}catch{}let q=document.getElementById("aElSalvador");q.addEventListener("click",function(){if(!document.getElementById("iframeElSalvador")){let a=document.getElementById("divIframElSalvador");a.innerHTML+='<iframe title=\'El Salvador Map\' id=\'iframeElSalvador\' src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1984252.4374393197!2d-90.05167866086293!3d13.749114461377241!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f6327a659640657%3A0x6f9a16eb98854832!2sEl+Salvador!5e0!3m2!1sen!2spl!4v1555793789038!5m2!1sen!2spl" class="previewerIframe" loading="lazy" allowfullscreen></iframe>'}},!1);let r=document.getElementById("linkContactMe");r.addEventListener("click",contactMeForm);let s=document.getElementById("linkContactMeAbout");s.addEventListener("click",contactMeForm)}function getHeight(){let a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight,a.getBoundingClientRect().height)}function contactMeForm(a){try{a.preventDefault()}catch{}0==document.getElementById("contactMeForm").innerHTML.trim().length&&(document.getElementById("contactMeForm").innerHTML+=`<iframe title="contact me" src="pages/contact${language.includes("es")?"_es":""}.html" height="480px" width="100%" frameborder="0" scrolling="yes" style="margin-top:0px"></iframe>`),$(this).tooltip("hide"),$("#contactMe").modal("show"),extraContact++}function getImage(a,b,c,e,f=!0,g="",h=!1,d=""){let i=""==d?"":`class='${d}'`,j=f?`<i class="${c}"></i>`:`<img alt='${a}' src="${c}" ${i} loading="lazy" />`;return`<a data-toggle="tooltip" title="${a}" ${e?'target="_blank"':""} class="btn btn-outline-light btn-social text-center rounded-circle ${h?"ignore-click":""} ${g}" href="${b}" ${"#"!==b?'rel="noreferrer"':""}>${j}</a>`}getScript(`${langLoc}${lang}/generics.js`).then(()=>{loadTranslations(),getScript(`${langLoc}${lang}/basicInfo.js`).then(()=>{loadBasicInfo()}).catch(()=>{console.error("Could not load script")})}).catch(()=>{console.error("Could not load script")}),window.addEventListener("scroll",d=>{let b=this.scrollY;if(b>.2*getHeight()&&0==extraContact)contactMeForm(),extraContact++;else if(b>.7*getHeight()){let c=document.getElementById("g_translate");if(!c){let a=document.createElement("script");a.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",a.id="g_translate",document.body.appendChild(a)}}})