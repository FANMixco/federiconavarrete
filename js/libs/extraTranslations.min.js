let totalServices=0,fullReviews=[],isHandlingVisibility=!1;const imgPreview=getImgBasicTag("{URL}","","","","{Title}",'style="max-width: 90%"'),noreferrer='rel="noreferrer"',tBlank='target="_blank"',divSmall='<div class="col-sm">',w100='class="w-100"',fontMobile=smallScreenMobileOS?"font-mobile":"",navbarCollapse=document.getElementById("navbarResponsive");let fullData;fetchData(`${jsonLoc}/extraInfo.json`).then((e=>{fullData=e,loadServices(e.servicesList),loadSoftSkills(e.softSkills,e.softSkillsOthers),loadTechSkills(e.techSkills,e.techSkillsOthers),loadSocialMedias(e.socialBasicList,e.socialOthersList)})).catch((e=>{console.error(e)}));const sections=document.querySelectorAll("section, div"),loadSectionIfVisible=()=>{sections.forEach((e=>{const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=.15*i,a=e.getAttribute("data-loaded");if(t.top<i-n&&t.bottom>=0&&"false"===a){switch(e.getAttribute("id")){case"divAwards":loadAwards(fullData.awardsList);break;case"divReviews":loadReviews(fullData.reviewsList);break;case"projects":loadPersonalProjects(fullData.personalProjects);break;case"presentations":loadVideosAndPresentations(fullData.youtubeTrainings,fullData.presentationsLinks,fullData.presentationsVideos),loadOrganizedEvents(fullData.organizedEvents);break;case"articles":loadArticles(fullData.articlesList);break;case"newsArticles":loadNewsArticles(fullData.newsArticlesList);break;case"books":loadBookPreview()}e.setAttribute("data-loaded","true")}}))};function loadOrganizedEvents(e){const{events:t}=e;loadImgSection(t,"divEvents","divEvents",imgLocPortfolio,"ÅÃ³dÅºarts",fontMobile)}function loadArticles(e){const{articles:t,isVisible:i}=e;loadImgSection(t,"divArticles","articlesDiv",imgLocArticles,"",fontMobile)}function loadNewsArticles(e){const{articles:t}=e;loadImgSection(t,"divMMArticles","newsArticles",imgLocArticles,fontMobile)}function loadBookPreview(){document.getElementById("bookPreview").innerHTML+=getIframe("Timeless Stories of El Salvador",`${urlB}leer.amazon.es/kp/card?asin=B09Z33ZPTV&preview=inline&linkCode=kpe&ref_=cm_sw_r_kb_dp_HJ6YDMXY6BRE1FA9AWE3`,'type="text/html" sandbox="allow-scripts allow-same-origin allow-popups" width="336" height="550" frameborder="0" style="max-width:100%;margin:auto;display:block"',"")}function loadReviews(e){try{const{reviews:t}=e,i=document.getElementById("divReviewsPreviews"),n=document.getElementById("divGenericContent");let a="";t.forEach(((e,t)=>{console.log(e);const i=t+1,n=""!==e.externalLink?getFLink("text-warning",e.externalLink,e.name,`${noreferrer} ${tBlank}`):e.name,l=`${getCItem(`${tCenter}${e.isActive?" active":""}`)}${getReviewContainer("",e.img,i,n,e.title,"","white","white",`${e.shortReview}${getBtnModal("reviewGeneric","text-material-link",`readMore${i}`,genericTranslations.readMore,"","reviewGeneric")}`,"",!0)}</div>`;a+=l;const o=e.isPDF?`${getImgName(n,e.img,i,"picReviewers")}${getReviewTitle("dark",e.title.replaceAll("text-material-link","text-material-link-dark"))}${getInnerTitle(e.date)}<div id="review${i}PDF"></div><div class="centerText">${getFLink("btn btn btn-outline-dark",e.pdfLocation,`${getFinalIcon("download",14)}&nbsp;${genericTranslations.download}`,tBlank)}</div>`:getReviewContainer("picReviewers",e.img,t+1,n,e.date,getInnerTitle(e.title.replaceAll("text-material-link","text-material-link-dark")),"dark","black",e.review,"centerText",!1);fullReviews.push({review:o,isPDF:e.isPDF,pdfLocation:e.pdfLocation})})),i.innerHTML=a,fullReviews.forEach(((e,t)=>{document.getElementById(`readMore${t+1}`).addEventListener(eClick,(i=>{i.preventDefault(),n.innerHTML=e.review,e.isPDF&&(PDFObject.embed(e.pdfLocation,`#review${t+1}PDF`),deviceType()!==devs[0]&&deviceType()!==devs[1]||(document.getElementById("review2PDF").style.height="auto"))}))}))}catch(e){return e}}function loadServices(e){try{const{services:t}=e,i=document.getElementById("servicesList"),n=document.getElementById("dServices");let a=smallScreenMobileOS||equalScreen?"":'<div class="row justify-content-center">';if(t.forEach((e=>{e.forEach((e=>{let t=document.createElement("li");const i=`${urlB}${e.link}`;t.innerHTML=`<a class="dropdown-item" id="lSer${totalServices}" ${tBlank} href="${i}">âž¤&nbsp;${e.title}</a>`,n.appendChild(t);const l=getCard(i,`${e.icon} fSize65`,"text-white",e.title,"card-services","fa-icon-services",null,"",!0,`service${totalServices}`);a+=smallScreenMobileOS||equalScreen?`<div class="carousel-item ${0==totalServices?"active":""}"><div class='text-center card-holder'>${l}</div></div>`:`<div class='col-lg-4 col-md-6 col-sm-12 col-12 p-2 text-center card-holder'>${l}</div>`,totalServices++}))})),a=smallScreenMobileOS||equalScreen?a:`${a}</div>`,smallScreenMobileOS||equalScreen){a=getCarousel(a,"carouselServices","text-dark");const e=document.getElementById("servicesList");e.classList.remove("row"),e.classList.add("container")}i.innerHTML+=a,(smallScreenMobileOS||equalScreen)&&new bootstrap.Carousel("#carouselServices")}catch(e){return e}}function getCarousel(e,t,i="text-muted"){return`<div class="container-fluid" id="div${t}"><div id="${t}" class="carousel slide"><div class="carousel-inner">${e}</div><button class="carousel-control-prev icon-size-22" type="button" data-bs-target="#${t}" data-bs-slide="prev" aria-label="Previous"><span class="${i} icon-chevron-left-solid"></span></button><button class="carousel-control-next icon-size-22" type="button" data-bs-target="#${t}" data-bs-slide="next" aria-label="Next"><span class="${i} icon-chevron-right-solid"></span></button></div></div>`}function loadAwards(e){try{const{awards:t}=e,i=document.getElementById("awardsList");let n=[],a=0,l=smallScreenMobileOS||equalScreen?"":'<div class="row justify-content-center">';if(t.forEach((e=>{e.forEach((e=>{let t=`${urlB}${e.link}`,i=getBtnModal("linkPreviews","clean-btn card-link text-dark",`linkPreview${a}`,getCard(t,"trophy fSize50","text-dark",e.title,"card-awards","fa-icon-awards",null,""),"","",!0,e.type,t);n.push({id:a,title:e.title,link:t,type:e.type}),l+=smallScreenMobileOS||equalScreen?`<div class="carousel-item ${0==a?"active":""}"><div class='text-center card-holder'>${i}</div></div>`:`<div class='col-lg-4 col-md-6 col-sm-12 col-12 p-2 text-center card-holder'>${i}</div>`,a++}))})),l=smallScreenMobileOS||equalScreen?l:`${l}</div>`,smallScreenMobileOS||equalScreen){l=getCarousel(l,"carouselAwards","text-dark");const e=document.getElementById("awardsList");e.classList.remove("row"),e.classList.add("container")}i.innerHTML+=l,(smallScreenMobileOS||equalScreen)&&new bootstrap.Carousel("#carouselAwards"),n.forEach((e=>{if("_blank"!==e.type){document.getElementById(`linkPreview${e.id}`).addEventListener(eClick,(()=>{const t=document.getElementById("iframeGeneric"),i=document.getElementById("btn-full-screen-preview");document.getElementById("gTitle").classList.add(nVis);document.getElementById("gDivTitle").classList.add("border-0");const n=e.link,a=n.includes("storage.live.com")?imgPreview.replace("{URL}",n).replace("{Title}",e.title):getIframe(e.title,n,'class="previewerIframe" id="previewerIframeI" style=\'background: url("img/icons/loading.gif") center/7em no-repeat\''),l=document.getElementById("modal-preview");l.classList.remove("modal-xl"),"img"===e.type&&l.classList.add("modal-xl"),i.href=n,i.setAttribute("title",e.title),i.setAttribute("aria-label",e.title),t.innerHTML=a,iFrameHResize("previewerIframeI")}))}}))}catch(e){return e}}function loadTechSkills(e,t){try{loadSkills(e,t,"divTechSkills","divTechSkillsOthers","","btnMoreTechSkills","multiDev")}catch(e){return e}}function loadSoftSkills(e,t){try{loadSkills(e,t,"divSoftSkills","divSoftSkillsOther","-business","btnMoreSoftSkills","multiBS")}catch(e){return e}}function loadPersonalProjects(e){try{const t=document.getElementById("personalProjects");e.forEach((e=>{const i=e.isActive?" active":"",n=smallScreenMobileOS||equalScreen?"style='font-size: larger!important'":"",a=`${getCItem(i)}<div class="carousel-video-inner">${getUTubeLite(e)}${getH4Tag(`${getFLink("text-material-link-dark",`${urlB}${e.link}`,e.title,`${noreferrer} ${tBlank}`)}, ${e.timeFrame}`,n)}</div></div>`;t.innerHTML+=a}))}catch(e){return e}}function getVideoCarousel(e,t){return`<div id="${t}" class="carousel slide"><div class="carousel-inner">${e}</div><button class="carousel-control-prev carousel-control-prev-video icon-size-22" href="#${t}" role="button" data-bs-slide="prev" aria-label="Previous"><span class="text-muted icon-chevron-left-solid"></span></button><button class="carousel-control-next carousel-control-next-video icon-size-22" href="#${t}" role="button" data-bs-slide="next" aria-label="Next"><span class="text-muted icon-chevron-right-solid"></span></button></div>`}function loadVideos(e){try{const{presentations:t}=e;loadVideosUTube(t,document.getElementById("divVideos"),"publicSpeakingDiv")}catch(e){return e}}function loadVideosUTube(e,t,i){let n=0;if(smallScreenMobileOS||equalScreen){let a="";e.forEach((e=>{let t=getUTubeContainer(e,fontMobile);t=t.replaceAll('class="col-sm"','class="carousel-video-inner"'),t=`<div class="carousel-item ${0==n?"active":""}">${t}</div>`,a+=t,n++})),a=getVideoCarousel(a,i),t.innerHTML=a,new bootstrap.Carousel(`#${i}`)}else e.forEach((e=>{t.innerHTML+=getUTubeContainer(e),0===n&&(t.innerHTML+=`<div ${w100}></div>`),n++}))}function loadYouTubeVideos(e){try{const{presentations:t}=e;loadVideosUTube(t,document.getElementById("divYouTubeVideos"),"uTubeDiv")}catch(e){return e}}function loadDivPresentations(e,t,i){let n=0;if(smallScreenMobileOS||equalScreen){let a="";e.forEach((e=>{let t=getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,e.title)),e.title,"font-mobile");t=t.replaceAll('class="col-sm"','class="carousel-video-inner"'),t=`<div class="carousel-item ${0==n?"active":""}">${t}</div>`,a+=t,n++})),a=getVideoCarousel(a,i),t.innerHTML=a,e.forEach((e=>{setImage(e.imgID,e.imgBasicName,imgLocPortfolio)})),new bootstrap.Carousel(`#${i}`)}else e.forEach((e=>{const t=getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,e.title)),e.title);divPPTs.innerHTML+=t,setImage(e.imgID,e.imgBasicName,imgLocPortfolio)}))}function loadPresentations(e){try{const{presentations:t}=e;loadDivPresentations(t,document.getElementById("divPPTs"),"presentationsDiv")}catch(e){return e}}function loadImgSection(e,t,i,n,a="",l=""){try{const i=document.getElementById(t);e.forEach((e=>{const t=getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,a||e.title)),e.title,l);i.innerHTML+=t,setImage(e.imgID,e.imgBasicName,n)}))}catch(e){return e}}function loadSocialMedias(e,t){try{const{socialMedia:i}=e,n=document.getElementById("socialMediaBasic"),a=document.getElementById("social-medias-extended-list");i.forEach((e=>{n.innerHTML+=getListItem(getImage(e.title,`${urlB}${e.link}`,`${e.icon}`,!0,!0,`btn-footer ${e.id}`,!1,"iconFooter")),a.innerHTML+=getListItem(getImage(e.title,`${urlB}${e.link}`,`${e.icon}`,!0,!0,`btn-footer ${e.id}`,!1,"iconFooter"))})),a.innerHTML+=getBtnShare();document.getElementById("btnShare").addEventListener(eClick,(e=>{e.preventDefault(),navigator.share({title:genericTranslations.knowMoreTitle,text:genericTranslations.knowMoreBody,url:window.location.href}).then((()=>{console.log("Shared!")})).catch((e=>{console.error(e)}))}));document.getElementById("socialMediaBasic").innerHTML+=getBtnOthers("otherLocs","btn-footer","");const l=document.getElementById("socialMediaOthers");t.socialMedia.forEach((e=>{l.innerHTML+=getListItem(getImage(e.title,`${urlB}${e.link}`,`${e.icon}`,!0,!0,"btn-footer",!1,"iconFooter"))})),smallScreenMobileOS&&[...document.getElementsByClassName("uTubeLink")].forEach((function(e){e.href=e.href.replace("www","m")}))}catch(e){return e}}function loadSkills(e,t,i,n,a,l,o){try{const r=document.getElementById(i),s=document.getElementById(n);e.forEach((e=>{let t=`${divSmall}<p class="lead">${e.join("<br /><br />")}</p></div>`;r.insertAdjacentHTML("afterbegin",t)}));const c=t.map(((e,t)=>`${o}${t}`)).join(" ");document.getElementById(l).setAttribute("aria-controls",c),t.forEach(((e,t)=>{let i=`${divSmall}<div class="collapse multi-collapse${a}" id="${o}${t}"><div class="card card-body mini-cards">${e.join("<br /><br />")}</div></div></div>`;s.insertAdjacentHTML("afterbegin",i)}))}catch(e){return e}}function addIFrameModal(e){for(let t=0;t<totalServices;t++){let i=document.getElementById(`${e}${t}`);i.addEventListener(eClick,(function(e){e.preventDefault(),document.getElementById("serviceForm").innerHTML=getIframe("Contact me",i.href,`height="${.8*heightIFrame}px" width="100%" id="serviceFormI" frameborder="0" scrolling="yes" style="margin-top:${marginTop}px"`),iFrameHResize("serviceFormI"),hideToolTips(),new bootstrap.Modal(document.getElementById("servicesModal"),{}).show()}))}}function loadVideosAndPresentations(e,t,i){loadVideos(i),loadYouTubeVideos(e),loadPresentations(t)}function setImage(e,t,i){const n=deviceType()==devs[0]?"_small":deviceType()==devs[1]?"_medium":"",a=document.getElementById(e),l=document.getElementById(`srcWebP${e}`),o=document.getElementById(`srcJPG${e}`);a.src=`${i}${t}${n}.jpg`,l.srcset=`${i}${t}${n}.webp`,o.srcset=`${i}${t}${n}.jpg`,a.setAttribute("loading","lazy")}function getUTubeContainer(e,t){return`${divSmall}${getUTubeLite(e)}${getH4Tag(e.title,"",t)}</div>`}function getUTubeLite(e){return`<lite-youtube class="iVideos" videoid="${e.youTubeID}" playlabel="${e.title}"></lite-youtube>`}function getImgPreview(e,t,i){return`<div class="img-box p-1 border rounded-circle m-auto ${i}">${getImgReview(e,t)}</div>`}function getReviewName(e,t){const i=(smallScreenMobileOS||equalScreen)&&t?"style='font-size: larger!important'":"";return`<p class="mt-4 mb-0 ${tCenter} h5 p-1 text-material-orange text-uppercase" ${i}>${e}</p>`}function getReviewTitle(e,t,i){return`<p class="text-${e} m-0 ${i} ${tCenter} h6 p-1">${t}</p>`}function getInnerTitle(e){return`<p class="text-dark m-0 ${tCenter} p-2">${e}</p>`}function getImgReview(e,t){return getPicture(`srcset="${e.replace(".jpg",".webp")}"`,`srcset="${e}"`,getImgBasicTag(e,lazyLoading,"d-block w-100 h-auto rounded-circle","",`review${t} slide`,'height="151" width="151"'))}function getReviewContainer(e,t,i,n,a,l,o,r,s,c,d=!1){return`${getImgName(n,t,i,e,d)}${l}${getReviewTitle(o,a,c)}<p class="m-0 pt-3 text-${r}">${s}</p>`}function getImgName(e,t,i,n,a){return`${getImgPreview(t,i,n)}\n    ${getReviewName(e,a)}`}function getPicture(e,t,i){return`<picture><source ${e} type="image/webp"><source ${t} type="image/jpeg">${i}</picture>`}function setWebPImage(e,t){return getPicture(`id='srcWebP${e}'`,`id='srcJPG${e}'`,t)}function getImgContainer(e,t,i,n){return`${divSmall}${getFLink("",e,t,`${noreferrer} ${tBlank} aria-label='${getCleanTitle(i)}'`)}${getH4Tag(i,"",n)}</div>`}function getH4Tag(e,t="",i=""){return`<p class="${tCenter} text-uppercase text-secondary mb-0 h4 mt-2 mb-2 ${i}" ${t}>${e}</p>`}function getImgTag(e,t){return getFinalImg(e,"img-fluid",t,"")}function getImgBasicTag(e,t="",i="",n="",a="",l=""){return getFinalImg(n,i,a,`src='${e}' ${l}`,t)}function getListItem(e,t="",i=""){return getInLi(e,i,t)}function getBtnModal(e,t,i,n,a="",l="",o=!1,r="",s=""){const c=o?"button":"a";return"_blank"!=r?`<${c} ${""!=i?`id="${i}"`:""} class="${t} ${o?"":"text-decoration-none"}" data-bs-toggle="modal" data-bs-target="#${e}" ${o?"":`href="#${l}"`} ${a}>${n}</${c}>`:`<a href='${s}' target='${r}' class="${t}" ${a}>${n}</a>`}function getBtnShare(){let e="share";const t=navigator.userAgent.match(/Macintosh|MacIntel|iPad|iPhone|iPod/g),i=navigator.userAgent.match(/Windows/g);return t&&t.length>0?e=`ios_${e}`:i&&i.length>0&&(e=`windows_${e}`),getListItem(getImage("","#",e,!1,!0,"btn-footer",!1,"iconFooter",`id="btnShare" title="${genericTranslations.share}" alt="${genericTranslations.share}"`))}function getBtnOthers(e,t,i="",n=""){return i+=`title="${genericTranslations.extras}" aria-label="${genericTranslations.extras}"`,getListItem(getBtnModal(e,`btn btn-outline-light btn-social ${tCenter} rounded-circle ${t}`,n,getFinalIcon("plus"),i))}function getCItem(e){return`<div class="carousel-item ${e}">`}function rotatedModal(){(smallScreenMobileOS||equalScreen)&&([...document.getElementsByClassName("mFullScreen")].forEach((e=>{e.classList.remove("modal-fullscreen")})),[...document.getElementsByClassName("mFullScreenH")].forEach((e=>{e.classList.remove("modal-fullscreen")}))),document.getElementById("contactMeI")&&iFrameHResize("contactMeI"),changeModalType()}function changeModalType(){if(smallScreenMobileOS||equalScreen){[...document.getElementsByClassName("mFullScreen")].forEach((e=>{e.classList.remove("modal-xl"),e.classList.add("modal-fullscreen")})),(window.matchMedia("(orientation: landscape)").matches||equalScreen||actualDev===devs[3])&&[...document.getElementsByClassName("mFullScreenH")].forEach((e=>{e.classList.remove("modal-xl"),e.classList.add("modal-fullscreen")}))}}function handleNavbarVisibility(){if(isHandlingVisibility)return;isHandlingVisibility=!0;const e=document.getElementsByClassName("dynamicNavItem"),t=document.getElementById("sMenu"),i=document.getElementById("dMenu");"flex"===window.getComputedStyle(navbarCollapse).display?([...e].forEach((function(e){e&&e.parentNode.removeChild(e)})),t.style.display="block",i.style.display="block"):(0===e.length&&setTimeout((function(){const e=document.getElementById("nElems"),t=document.createElement("li");t.className="nav-item mx-0 mx-lg-1 dynamicNavItem",t.innerHTML=`<a class="nav-link py-3 px-0 px-lg-3 rounded" href="#divServices">${genericTranslations.servicesM}</a>`,e.insertBefore(t,e.children[1]);const i=document.createElement("li");i.className="nav-item mx-0 mx-lg-1 dynamicNavItem",i.innerHTML=`<a class="nav-link py-3 px-0 px-lg-3 rounded text-white" id="mobileContactMe">${genericTranslations.contactMe}&nbsp;ðŸ’¡</a>`,e.append(i);document.getElementById("mobileContactMe").addEventListener(eClick,contactMeForm)}),250),t.style.display="none",i.style.display="none"),isHandlingVisibility=!1}function debounce(e,t){let i;return function(){const n=this,a=arguments;clearTimeout(i),i=setTimeout((function(){i=null,e.apply(n,a)}),t)}}window.addEventListener("scroll",loadSectionIfVisible),window.addEventListener("resize",loadSectionIfVisible),loadSectionIfVisible(),setTimeout((function(){addIFrameModal("service"),addIFrameModal("lSer")}),1e3),changeModalType(),window.matchMedia?(window.matchMedia("(orientation: portrait)").addEventListener("change",rotatedModal),window.matchMedia("(orientation: landscape)").addEventListener("change",rotatedModal)):window.addEventListener("orientationchange",rotatedModal);const debouncedHandleNavbarVisibility=debounce(handleNavbarVisibility,250);window.addEventListener("resize",debouncedHandleNavbarVisibility),"loading"!==document.readyState?handleNavbarVisibility():document.addEventListener("DOMContentLoaded",handleNavbarVisibility);