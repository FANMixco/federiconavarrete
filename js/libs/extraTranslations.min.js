let fullData,totalServices=0,fullReviews=[],isHandlingVisibility=!1;const imgPreview=getImgBasicTag("{URL}","","","","{Title}",'style="max-width: 90%"'),noreferrer='rel="noreferrer"',tBlank='target="_blank"',divSmall='<div class="col-sm">',w100='class="w-100"',navbarCollapse=gId("navbarResponsive"),sections=gAll("section, div");fetchData(`${jsonLoc}/extraInfo.json`).then((e=>{fullData=e,loadServices(e.servicesList),loadSoftSkills(e.softSkills,e.softSkillsOthers),loadTechSkills(e.techSkills,e.techSkillsOthers),loadSocialMedias(e.socialBasicList,e.socialOthersList)})).catch((e=>{console.error(e)}));const loadSectionIfVisible=()=>{sections.forEach((e=>{const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,a=.15*i,n=e.getAttribute("data-loaded");if(t.top<i-a&&t.bottom>=0&&"false"===n){switch(e.getAttribute("id")){case"divAwards":loadAwards(fullData.awardsList);break;case"divReviews":loadReviews(fullData.reviewsList);break;case"projects":loadPersonalProjects(fullData.personalProjects);break;case"presentations":loadVideosAndPresentations(fullData.youtubeTrainings,fullData.presentationsLinks,fullData.presentationsVideos),loadOrganizedEvents(fullData.organizedEvents);break;case"articles":loadArticles(fullData.articlesList);break;case"newsArticles":loadNewsArticles(fullData.newsArticlesList);break;case"books":loadBookPreview()}e.setAttribute("data-loaded","true")}}))};function loadOrganizedEvents(e){const{events:t}=e;loadImgSection(t,"divEvents","divEvents",imgLocPortfolio,"ÅÃ³dÅºarts","")}function loadArticles(e){const{articles:t}=e;loadImgSection(t,"divArticles","articlesDiv",imgLocArticles,"","")}function loadNewsArticles(e){const{articles:t}=e;loadImgSection(t,"divMMArticles","newsArticles",imgLocArticles,"")}function loadBookPreview(){loadIframe("bookPreview","Timeless Stories of El Salvador",`${urlB}leer.amazon.es/kp/card?asin=B09Z33ZPTV&preview=inline&linkCode=kpe&ref_=cm_sw_r_kb_dp_HJ6YDMXY6BRE1FA9AWE3`,'type="text/html" sandbox="allow-scripts allow-same-origin allow-popups" width="336" height="550" frameborder="0" style="max-width:100%;margin:auto;display:block"')}function loadReviews(e){try{const{reviews:t}=e,i=gId("divReviewsPreviews"),n=gId("divGenericContent");let r="";t.forEach(((e,t)=>{const i=t+1,n=""!==e.externalLink?getFLink("text-warning",e.externalLink,e.name,`${noreferrer} ${tBlank}`):e.name,s=`${getCItem(`${tCenter}${e.isActive?" active":""}`)}${a(e.img,"",i,n,e.title,"",e.review,!0)}</div>`;r+=s;const l=a(e.img,"picReviewers",i,n,e.title,e.date,e.review,!1,!0,e.isPDF);fullReviews.push({review:l,isPDF:e.isPDF,pdfLocation:e.pdfLocation})})),i.innerHTML=r,fullReviews.forEach(((e,t)=>{gId(`readMore${t+1}`).addEventListener(eClick,(i=>{i.preventDefault(),n.innerHTML=e.review,e.isPDF&&(PDFObject.embed(e.pdfLocation,`#review${t+1}PDF`),deviceType()!==devs[0]&&deviceType()!==devs[1]||(gId("review2PDF").style.height="auto"))}))}))}catch(e){return e}function t(e,t){return`<p class="m-0 pt-3 text-${t}">${e}</p>`}function i(e,t){return`<p class="text-${t} m-0 text-center fst-italic p-1">${e}</p>`}function a(e,a,n,r,s,l,o,c=!0,d=!0,g=!1){const u=c?"white":"dark";return o=c?t(`${function(e){const t=e.split(/\s+/);return t.slice(0,30).join(" ")+" â€¦"}(o)}&nbsp;${getBtnModal("reviewGeneric","text-material-link",`readMore${n}`,genericTranslations.readMore,"","reviewGeneric")}</p>`,"white"):g?`<br><div id="review${n}PDF"></div><br><div class="text-center">${getFLink("btn btn btn-outline-dark",o,`${getFinalIcon("download",14)}&nbsp;${genericTranslations.download}`,tBlank)}</div>`:t(o,"black"),`${function(e,t,i,a,n){return`${function(e,t,i){return`<div class="img-box p-1 border rounded-circle m-auto ${i}">${getImgReview(e,t)}</div>`}(t,i,a)}${function(e,t){return`<p class="mt-4 mb-0 ${tCenter} h5 p-1 text-material-orange text-uppercase" ${smallScreen&&t?"style='font-size: larger!important'":""}>${e}</p>`}(e,n)}`}(r,e,n,a,d)}${i(s,u)}${l?i(l,u):""}${o}`}}function loadServices(e){try{const{services:t}=e,i=gId("servicesList"),a=gId("dServices");let n=smallScreen?"":'<div class="row justify-content-center">';if(t.flat().forEach((e=>{const t=`${urlB}${e.link}`;let i=document.createElement("li");i.innerHTML=`<a class="dropdown-item" id="lSer${totalServices}" ${tBlank} href="${t}">âž¤&nbsp;${e.title}</a>`,a.appendChild(i),n+=getSCItem(totalServices,getCard(t,`${e.icon} fSize65`,"text-white",e.title,"card-services","fa-icon-services",null,"",!0,`service${totalServices}`)),totalServices++})),n=smallScreen?n:`${n}</div>`,smallScreen){n=getCarousel(n,"carouselServices","text-dark");const e=gId("servicesList");e.classList.remove("row"),e.classList.add("container")}i.innerHTML+=n,smallScreen&&new bootstrap.Carousel("#carouselServices")}catch(e){return e}}function getCarousel(e,t,i="text-muted",a=!1){return`${a?"":`<div class="container-fluid" id="div${t}">`}<div id="${t}" class="carousel slide"><div class="carousel-inner">${e}</div><a class="carousel-control-prev icon-size-22 ${a?"carousel-control-prev-video":"carousel-control-prev"}" type="button" data-bs-target="#${t}" data-bs-slide="prev" aria-label="Previous"><span class="${i} icon-chevron-left-solid"></span></a><a class="carousel-control-next icon-size-22 ${a?"carousel-control-next-video":"carousel-control-next"}" type="button" data-bs-target="#${t}" data-bs-slide="next" aria-label="Next"><span class="${i} icon-chevron-right-solid"></span></a></div>${a?"</div>":""}`}function getSCItem(e,t){return smallScreen?`${getCItem((0===e?"active":"")+'"')}<div class='text-center card-holder'>${t}</div></div>`:`<div class='col-lg-4 col-md-6 col-sm-12 col-12 p-2 text-center card-holder'>${t}</div>`}function loadAwards(e){try{const{awards:t}=e,i=gId("awardsList");let a=[],n=smallScreen?"":'<div class="row justify-content-center">';if(t.flat().forEach(((e,t)=>{const i=`${urlB}${e.link}`,r=getBtnModal("linkPreviews","clean-btn card-link text-dark",`linkPreview${t}`,getCard(i,"trophy fSize50","text-dark",e.title,"card-awards","fa-icon-awards",null,""),"","",!0,e.type,i);a.push({id:t,title:e.title,link:i,type:e.type}),n+=getSCItem(t,r)})),n=smallScreen?n:`${n}</div>`,smallScreen){n=getCarousel(n,"carouselAwards","text-dark");const e=gId("awardsList");e.classList.remove("row"),e.classList.add("container")}i.innerHTML+=n,smallScreen&&new bootstrap.Carousel("#carouselAwards"),a.forEach((e=>{"_blank"!==e.type&&gId(`linkPreview${e.id}`).addEventListener(eClick,(()=>{const t=gId("btn-full-screen-preview"),i=e.link,a=gId("modal-preview");gId("gTitle").classList.add(nVis),gId("gDivTitle").classList.add("border-0"),a.classList.remove("modal-xl"),"img"===e.type&&a.classList.add("modal-xl"),t.href=i,t.setAttribute("title",e.title),t.setAttribute("aria-label",e.title),gId("iframeGeneric").innerHTML=i.includes("storage.live.com")?imgPreview.replace("{URL}",i).replace("{Title}",e.title):getIframe(e.title,i,dIframe("previewerIframeI","previewerIframe")),iFrameHResize("previewerIframeI")}))}))}catch(e){return e}}function loadTechSkills(e,t){try{loadSkills(e,t,"divTechSkills","divTechSkillsOthers","")}catch(e){return e}}function loadSoftSkills(e,t){try{loadSkills(e,t,"divSoftSkills","divSoftSkillsOther","-business")}catch(e){return e}}function loadPersonalProjects(e){try{const t=e.map((e=>{const t=e.isActive?" active":"",i=`${getFLink("text-material-link-dark",`${urlB}${e.link}`,e.title,`${noreferrer} ${tBlank}`)}, ${e.timeFrame}`;return`${getCItem(t)}<div class="carousel-video-inner">${getUTubeLite(e)}${getH4Tag(i,"")}</div></div>`})).join("");gId("personalProjects").innerHTML=t}catch(e){return e}}function loadVideos(e){try{const{presentations:t}=e;loadVideosUTube(t,gId("divVideos"),"publicSpeakingDiv")}catch(e){return e}}function loadVideosUTube(e,t,i){let a="";if(smallScreen)a=e.map(((e,t)=>{const i=getUTubeContainer(e,"").replaceAll('class="col-sm"','class="carousel-video-inner"');return`${getCItem((0===t?"active":"")+'"')}${i}</div>`})).join(""),a=getCarousel(a,i,"text-muted",!0),t.innerHTML=a,new bootstrap.Carousel(`#${i}`);else{let i=0;a=e.map((e=>{let t=getUTubeContainer(e);return 0===i&&(t+=`<div ${w100}></div>`),i++,t})).join(""),t.innerHTML=a}}function loadYouTubeVideos(e){try{const{presentations:t}=e;loadVideosUTube(t,gId("divYouTubeVideos"),"uTubeDiv")}catch(e){return e}}function loadDivPresentations(e,t,i){let a="";smallScreen?(a=e.map(((e,t)=>{const i=getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,e.title)),e.title,"").replaceAll('class="col-sm"','class="carousel-video-inner"');return`${getCItem((0===t?"active":"")+'"')}${i}</div>`})).join(""),a=getCarousel(a,i,"text-muted",!0),t.innerHTML=a):(a=e.map((e=>getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,e.title)),e.title))).join(""),t.innerHTML=a),setPPTImg(e),smallScreen&&new bootstrap.Carousel(`#${i}`)}function setPPTImg(e){e.forEach((e=>setImage(e.imgID,e.imgBasicName,imgLocPortfolio)))}function loadPresentations(e){try{const{presentations:t}=e;loadDivPresentations(t,gId("divPPTs"),"presentationsDiv")}catch(e){return e}}function loadImgSection(e,t,i,a,n="",r=""){try{const i=gId(t);e.forEach((e=>{i.innerHTML+=getImgContainer(`${urlB}${e.link}`,setWebPImage(e.imgID,getImgTag(e.imgID,n||e.title)),e.title,r),setImage(e.imgID,e.imgBasicName,a)}))}catch(e){return e}}function loadSocialMedias(e,t){try{const{socialMedia:i}=e,a=gId("socialMediaBasic"),n=gId("social-medias-extended-list"),r=i.map((e=>getListItem(getImage(e.title,`${urlB}${e.link}`,`${e.icon}`,!0,!0,`btn-footer ${e.id}`,!1,"iconFooter"))));a.innerHTML=r.join(""),n.innerHTML=r.join(""),n.innerHTML+=getBtnShare(),gId("btnShare").addEventListener(eClick,(e=>{e.preventDefault(),navigator.share({title:genericTranslations.knowMoreTitle,text:genericTranslations.knowMoreBody,url:window.location.href}).then((()=>{console.log("Shared!")})).catch((e=>{console.error(e)}))})),a.innerHTML+=getBtnOthers("otherLocs","btn-footer",""),t.socialMedia.forEach((e=>{gId("socialMediaOthers").innerHTML+=getListItem(getImage(e.title,`${urlB}${e.link}`,`${e.icon}`,!0,!0,"btn-footer",!1,"iconFooter"))})),smallScreenMobileOS&&gAll(".uTubeLink").forEach((e=>{e.href=e.href.replace("www","m")}))}catch(e){return e}}function loadSkills(e,t,i,a,n){try{e.forEach((e=>{gId(i).insertAdjacentHTML("afterbegin",`${divSmall}<p class="lead">${e.join("<br /><br />")}</p></div>`)})),t.forEach((e=>{gId(a).insertAdjacentHTML("afterbegin",`${divSmall}<div class="collapse multi-collapse${n}"><div class="card card-body mini-cards">${e.join("<br /><br />")}</div></div></div>`)}))}catch(e){return e}}function addIFrameModal(e){for(let t=0;t<totalServices;t++){const i=gId(`${e}${t}`);i.addEventListener(eClick,(e=>{e.preventDefault(),gId("serviceForm").innerHTML=getIframe("Contact me",i.href,`height="${.8*heightIFrame}px" width="100%" id="serviceFormI" frameborder="0" scrolling="yes" style="margin-top:${marginTop}px"`),iFrameHResize("serviceFormI");new bootstrap.Modal(gId("servicesModal"),{}).show()}))}}function loadVideosAndPresentations(e,t,i){loadVideos(i),loadYouTubeVideos(e),loadPresentations(t)}function setImage(e,t,i){const a=deviceType()==devs[0]?"_small":deviceType()==devs[1]?"_medium":"",n=gId(e);n.src=`${i}${t}${a}.jpg`,gId(`srcWebP${e}`).srcset=`${i}${t}${a}.webp`,gId(`srcJPG${e}`).srcset=`${i}${t}${a}.jpg`,n.setAttribute("loading","lazy")}function getUTubeContainer(e,t){return`${divSmall}${getUTubeLite(e)}${getH4Tag(e.title,"",t)}</div>`}function getUTubeLite(e){return`<lite-youtube class="iVideos" videoid="${e.youTubeID}" playlabel="${e.title}"></lite-youtube>`}function getImgReview(e,t){return getPicture(`srcset="${e.replace(".jpg",".webp")}"`,`srcset="${e}"`,getImgBasicTag(e,lazyLoading,"d-block w-100 h-auto rounded-circle","",`review${t} slide`,'height="151" width="151"'))}function getPicture(e,t,i){return`<picture><source ${e} type="image/webp"><source ${t} type="image/jpeg">${i}</picture>`}function setWebPImage(e,t){return getPicture(`id='srcWebP${e}'`,`id='srcJPG${e}'`,t)}function getImgContainer(e,t,i,a){return`${divSmall}${getFLink("",e,t,`${noreferrer} ${tBlank} aria-label='${getCleanTitle(i)}'`)}${getH4Tag(i,"",a)}</div>`}function getH4Tag(e,t="",i=""){return`<p class="${tCenter} text-uppercase text-secondary mb-0 h4 mt-2 mb-2 ${i}" ${t}>${e}</p>`}function getImgTag(e,t){return getFinalImg(e,"img-fluid",t,"")}function getImgBasicTag(e,t="",i="",a="",n="",r=""){return getFinalImg(a,i,n,`src='${e}' ${r}`,t)}function getListItem(e,t="",i=""){return getInLi(e,i,t)}function getBtnModal(e,t,i,a,n="",r="",s=!1,l="",o=""){const c=s?"button":"a";return"_blank"!=l?`<${c} ${""!=i?`id="${i}"`:""} class="${t} ${s?"":"text-decoration-none"}" data-bs-toggle="modal" data-bs-target="#${e}" ${s?"":`href="#${r}"`} ${n}>${a}</${c}>`:`<a href='${o}' target='${l}' class="${t}" ${n}>${a}</a>`}function getBtnShare(){let e="share";const t=/Macintosh|MacIntel|iPad|iPhone|iPod/i.test(navigator.userAgent),i=/Windows/i.test(navigator.userAgent),a=genericTranslations.share?genericTranslations.share:"";return e=t?`ios_${e}`:i?`windows_${e}`:e,getListItem(getImage("","#",e,!1,!0,"btn-footer",!1,"iconFooter",`id="btnShare" title="${a}" alt="${a}"`))}function getBtnOthers(e,t,i="",a=""){const n=genericTranslations.extras?genericTranslations.extras:"";return i+=`title="${n}" aria-label="${n}"`,getListItem(getBtnModal(e,`btn btn-outline-light btn-social ${tCenter} rounded-circle ${t}`,a,getFinalIcon("plus"),i))}function getCItem(e){return`<div class="carousel-item ${e}">`}function rotatedModal(){smallScreen&&(gAll(".mFullScreen").forEach((e=>{e.classList.remove("modal-fullscreen")})),gAll(".mFullScreenH").forEach((e=>{e.classList.remove("modal-fullscreen")}))),gId("contactMeI")&&iFrameHResize("contactMeI"),changeModalType()}function changeModalType(){smallScreen&&(gAll(".mFullScreen").forEach((e=>{e.classList.remove("modal-xl"),e.classList.add("modal-fullscreen")})),(window.matchMedia("(orientation: landscape)").matches||equalScreen||actualDev===devs[3])&&gAll(".mFullScreenH").forEach((e=>{e.classList.remove("modal-xl"),e.classList.add("modal-fullscreen")})))}function handleNavbarVisibility(){if(isHandlingVisibility)return;isHandlingVisibility=!0;const e=document.getElementsByClassName("dynamicNavItem"),t=gId("sMenu"),i=gId("dMenu"),a=["display:flex !important","display:none !important"];function n(e,t){e.setAttribute("style",t)}"flex"===window.getComputedStyle(navbarCollapse).display?([...e].forEach((e=>{e&&e.parentNode.removeChild(e)})),n(t,a[0]),n(i,a[0])):loadTranslationsWithRetry((function(){if(0===e.length){const e=gId("nElems"),t=document.createElement("li");t.className="nav-item mx-0 mx-lg-1 dynamicNavItem",t.innerHTML=`<a class="nav-link py-3 px-0 px-lg-3 rounded" href="#divServices">${genericTranslations.servicesM}</a>`,e.insertBefore(t,e.children[1]);const i=document.createElement("li");i.className="nav-item mx-0 mx-lg-1 dynamicNavItem",i.innerHTML=`<a class="nav-link py-3 px-0 px-lg-3 rounded text-white" id="mobileContactMe">${genericTranslations.contactMe}&nbsp;ðŸ’¡</a>`,e.append(i),gId("mobileContactMe").addEventListener(eClick,contactMeForm)}n(t,a[1]),n(i,a[1])}),(()=>{})),isHandlingVisibility=!1}function debounce(e,t){let i;return function(){const a=this,n=arguments;clearTimeout(i),i=setTimeout((()=>{i=null,e.apply(a,n)}),t)}}window.addEventListener("scroll",loadSectionIfVisible),loadSectionIfVisible(),setTimeout((()=>{addIFrameModal("service"),addIFrameModal("lSer")}),1e3),changeModalType(),window.matchMedia?(window.matchMedia("(orientation: portrait)").addEventListener("change",rotatedModal),window.matchMedia("(orientation: landscape)").addEventListener("change",rotatedModal)):window.addEventListener("orientationchange",rotatedModal);const debouncedHandleNavbarVisibility=debounce(handleNavbarVisibility,250);function resizeExtras(){loadSectionIfVisible(),debouncedHandleNavbarVisibility()}"loading"!==document.readyState?handleNavbarVisibility():(document.addEventListener("DOMContentLoaded",handleNavbarVisibility),window.addEventListener("resize",resizeExtras));