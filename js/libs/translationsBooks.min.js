async function fetchData(e){try{const t=await fetch(e);return await t.json()}catch(e){console.error(e)}}window.addEventListener("DOMContentLoaded",(async()=>{try{const e=new URL(window.location.href).searchParams.get("lang");!function(e){const t="../img/books/",o=document.createDocumentFragment(),a="loading='lazy'";e.forEach((e=>{const c=e.isActive?" active":"",n=document.createElement("div");n.className=`carousel-item col-12 col-sm-6 col-md-4 col-lg-2${c}`,n.innerHTML=`<a target="_blank" href="https://${e.link}"><picture><source srcset="${t}${e.img}.webp" type="image/webp"><source srcset="${t}${e.img}.jpg" type="image/jpeg"><img class="img-fluid mx-auto d-block" ${a} src="${t}${e.img}.jpg" alt="${e.title}"></picture></a>`,o.appendChild(n)})),$("#divBooks").append(o),$("#booksCarousel").on("slide.bs.carousel",(e=>{const t=7,o=".carousel-item",a=$(e.relatedTarget),c=$(o).length;let n=a.index();if(n>=c-(t-1)){let a=t-(c-n);for(let t=0;t<a;t++)$(o).eq("left"==e.direction?t:0).appendTo(".carousel-inner")}}))}((await fetchData(`../js/i18n/${e||"en"}/books.json`)).booksList)}catch(e){console.error(e)}}));