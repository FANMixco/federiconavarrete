async function fetchData(e){try{const o=await fetch(e);return await o.json()}catch(e){console.error("Error loading JSON:",e)}}function loadBooks(e){const o="../img/books/",t=document.createDocumentFragment();e.forEach((e=>{const a=e.isActive?" active":"",n=document.createElement("div");n.className=`carousel-item col-12 col-sm-6 col-md-4 col-lg-2${a}`,n.innerHTML=`<a target="_blank" href="https://${e.link}"><picture><source srcset="${o}${e.img}.webp" type="image/webp"><source srcset="${o}${e.img}.jpg" type="image/jpeg"><img class="img-fluid mx-auto d-block" loading='lazy' src="${o}${e.img}.jpg" alt="${e.title}"></picture></a>`,t.appendChild(n)})),document.getElementById("divBooks").appendChild(t),$("#booksCarousel").on("slide.bs.carousel",(function(e){let o=$(e.relatedTarget).index(),t=$(".carousel-item").length;if(o>=t-6){let a=7-(t-o);for(let o=0;o<a;o++)"left"==e.direction?$(".carousel-item").eq(o).appendTo(".carousel-inner"):$(".carousel-item").eq(0).appendTo(".carousel-inner")}}))}window.addEventListener("DOMContentLoaded",(async()=>{try{const e=(window.navigator.userLanguage||window.navigator.language).includes("es")?"es-sv/min":"en-us/min";loadBooks((await fetchData(`../js/i18n/${e}/booksList.json`)).booksList)}catch(e){console.error(e)}}));