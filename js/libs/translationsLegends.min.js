async function fetchData(e){try{const n=await fetch(e);return await n.json()}catch(e){console.error("Error loading JSON:",e)}}function loadLegends(e){const n="../img/legends/",t=document.createDocumentFragment();e.forEach((e=>{const a=e.isActive?" active":"",i=document.createElement("div");i.className=`carousel-item col-md-4${a}`,i.innerHTML=`<div class="card">\n                                  <div class="img-thumbnail">\n                                      <a class="text-warning legend-link" target="_blank" href="https://${e.link}">\n                                          <picture>\n                                              <source srcset="${n}${e.img}.webp" type="image/webp">\n                                              <source srcset="${n}${e.img}.jpg" type="image/jpeg">\n                                              <img src="${n}${e.img}.jpg" loading='lazy' alt="${e.title}" class="cards-row">\n                                          </picture>\n                                          <div class="caption">\n                                              <p><b>${e.title}</b></p>\n                                          </div>\n                                      </a>\n                                  </div>\n                              </div>`,t.appendChild(i)})),document.getElementById("divLegends").appendChild(t)}window.addEventListener("DOMContentLoaded",(async()=>{try{const e=(window.navigator.userLanguage||window.navigator.language).includes("es")?"es-sv/min":"en-us/min";loadLegends((await fetchData(`../js/data/translations/${e}/legendsList.json`)).legendsList)}catch(e){console.error(e)}$("#legendsCarousel").on("slide.bs.carousel",(function(e){let n=$(e.relatedTarget).index(),t=$(".carousel-item").length;if(n>=t-2){let a=3-(t-n);for(let n=0;n<a;n++)"left"==e.direction?$(".carousel-item").eq(n).appendTo(".carousel-inner"):$(".carousel-item").eq(0).appendTo(".carousel-inner")}}))}));