const language=window.navigator.userLanguage||window.navigator.language;let lang="en",currentLoc="";const langLoc="js/data/";lang=language.includes("es")?"es":lang;const validLang=["en","es"];async function fetchData(e){try{const t=await fetch(e);return await t.json()}catch(e){console.error("Error loading JSON:",e)}}function addTranslateElement(){const e=document.createElement("script");e.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",e.id="g_translate",document.body.appendChild(e),setTimeout((()=>{const e=document.getElementById("userName"),t=document.createElement("div");t.setAttribute("id","google_translate_element"),e.insertAdjacentElement("afterend",t),new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"nl,de,fr,it,pl,pt,zh-CN",autoDisplay:!1,layout:google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element"),t.style.textAlign="center"}),1e3)}function createLink(e,t,n=!0){const a=document.createElement("a");return a.classList.add(t),a.href=e.link,a.setAttribute("aria-label",e["aria-label"]),a.setAttribute("title",e.title),a.setAttribute("id",e.id),e.target&&(a.target=e.target),n&&createIcon(e,a),a}function createIcon(e,t){const n=document.createElement("i");n.classList.add(e.icon),t.appendChild(n)}function createTextElement(e){const t=document.createElement("span");return t.innerHTML=e,t}-1===validLang.indexOf(lang)&&addTranslateElement(),fetchData(`${langLoc}${lang}/basic.json`).then((e=>{document.querySelectorAll("[data-translation]").forEach((t=>{t.innerHTML=e[t.dataset.translation]}))})),fetchData(`${langLoc}${lang}/sublinks.json`).then((e=>{const t=document.getElementById("sub-links");e.forEach((e=>{const n=createLink(e,"sub-link");t.appendChild(n)}))})),fetchData(`${langLoc}${lang}/links.json`).then((e=>{const t=document.getElementById("links");e.forEach((e=>{const n=createLink(e,"link",!1),a=document.createElement("div");a.style.width="100%",a.style.display="flex",a.style.justifyContent="space-between",a.style.alignItems="center",n.appendChild(a);for(let t=0;t<3;t++){const n=document.createElement("div");if(0==t||2==t)n.style.width="40px";else{n.style.width="auto",n.style.flexGrow="1";const t=createTextElement(`&ensp;${e.text}`);createIcon(e,n),n.appendChild(t)}a.appendChild(n)}t.appendChild(n)}))}));