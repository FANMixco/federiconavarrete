const language=window.navigator.userLanguage||window.navigator.language;let lang="en",currentLoc="";const langLoc="js/data/";lang=language.includes("es")?"es":lang;const validLang=["en","es"];async function fetchData(e){try{const t=await fetch(e);return await t.json()}catch(e){console.error("Error loading JSON:",e)}}function addTranslateElement(){const e=document.createElement("script");e.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",e.id="g_translate",document.body.appendChild(e),setTimeout((()=>{const e=document.getElementById("userName"),t=document.createElement("div");t.setAttribute("id","google_translate_element"),e.insertAdjacentElement("afterend",t),new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"nl,de,fr,it,pl,pt,zh-CN",autoDisplay:!1,layout:google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element"),t.style.textAlign="center"}),1e3)}function createLink(e,t){const n=document.createElement("a");n.classList.add(t),n.href=e.link,n.setAttribute("aria-label",e["aria-label"]),n.setAttribute("title",e.title),n.setAttribute("id",e.id),e.target&&(n.target=e.target);const a=document.createElement("i");return a.classList.add(e.icon),n.appendChild(a),n}function createTextElement(e){const t=document.createElement("span");return t.innerHTML=e,t}-1===validLang.indexOf(lang)&&addTranslateElement(),fetchData(`${langLoc}${lang}/basic.json`).then((e=>{document.querySelectorAll("[data-translation]").forEach((t=>{t.innerHTML=e[t.dataset.translation]}))})),fetchData(`${langLoc}${lang}/sublinks.json`).then((e=>{const t=document.getElementById("sub-links");e.forEach((e=>{const n=createLink(e,"sub-link");t.appendChild(n)}))})),fetchData(`${langLoc}${lang}/links.json`).then((e=>{const t=document.getElementById("links");e.forEach((e=>{const n=createLink(e,"link"),a=createTextElement(`&ensp;${e.text}`);n.appendChild(a),t.appendChild(n)}))}));